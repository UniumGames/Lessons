### Задание №2: Забей гол (часть 3)

Открой свой проект, созданный во второй части. Убедись, что на футбольном поле есть ворота, расположенные напротив друг друга.

![game](http://unity3d.unium.ru/lessons/lesson12/images/football1.jpg)

В этом задании сделаем так, чтобы отображался текущий счет на экране при попадании меча в ворота (пример: 0:1). Также, при попадании меча в ворота — он будет возвращаться в центр поля. Потом добавим звуки. А по нажатию клавиши `Esc` происходил выход из игры.

Начнем с отображения счета голов на экране. Создай `GameObject` → `UI` → `Text` и назови его `Score`. Введи текст `0:0` и расположи его в правом верхнем углу экрана.

Создай скрипт по имени `Score` и напиши следующий код:

<details><summary>Score.cs</summary>

```csharp
// публичные переменные,
// хранящие очки красной и синей команд
public int redScore = 0;
public int blueScore = 0;

void Update () {
	Text textField = GetComponent<Text>();
	// красиво форматируем очки 
	// и выводим в текстовое поле
	textField.text = redScore + ":" + blueScore;
}
```

</details>

Запусти игру, убедись, что на экране отображается счет 0:0. Измени значения переменных `Red`, `Blue` и убедись, что счет на экране изменился.

Теперь займемся воротами. Нужно, чтобы мяч при попадании уничтожался и создавался новый в центре поля. Создай префаб мяча в папке `Resources` с именем `Ball`. Задай мячу тег `Ball`

Создай триггер и расположи его внутри ворот так, чтобы он не соприкасался с другими объектами.

![Триггер](http://unity3d.unium.ru/lessons/lesson12/images/football3.jpg)

Создай скрипт по имени `TriggerRed` и присвой его к созданному триггеру красной команды. При попадании мяча в ворота красной команды, балл начисляется синей команде. Напиши следующий код:

<details><summary>TriggerRed.cs</summary>

```csharp
public GameObject ballPrefab;
public Score score;

void OnTriggerEnter(Collider other) {
	// если в сетку влетел объект с тегом Ball (наш мяч)
	if (other.tag == "Ball") {
		// то уничтожим этот мяч
		Destroy(other.gameObject);

		// создадим новый мяч в центре поля
		// Quaternion.identity - угол поворота 0 градусов
		Instantiate(ballPrefab, new Vector3(0, 2, 0), Quaternion.identity);

		// и защитаем очко синей команде
		score.blueScore = score.blueScore + 1;
	}
}
```

</details>

Запусти игру, забей мяч в ворота (куда добавлял скрипт). Убедись, что при попадании мяча в ворота — он удаляется и появляется в центре поля.

Теперь создадим скрипт по имени `TriggerBlue` для противоположных ворот. Добавь скрипт к триггеру ворот синей команды. Он похож на скрипт `TriggerRed`. Единственное отличие в том, что при голе увеличиваются очки красной команды `score.redScore`, а не синей. Запусти игру и проверь, что счет корректно изменяется.

**Самостоятельно**: когда мяч попадает в ворота — воспроизводился звук `ГОООЛ!!` (найти звук ты можешь на сайте [freesound.org](http://freesound.org/) по ключевому слову `goal`).

Необходимые знания:

[Звук](https://github.com/UniumGames/Lessons/tree/master/12#Добавление-звука-с-помощью-скрипта), [триггеры](https://github.com/UniumGames/Lessons/tree/master/12#Триггеры).

Критерии качества:

- счет меняется при попадании мяча в ворота;
- мяч появляется в центре поля при попадании в ворота;
- воспроизводится звук при попадании в ворота.