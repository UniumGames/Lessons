### События. Рассылка и прослушивание

Довольно часто необходимо, чтобы одни объекты оповещали о своих действиях или о своем состоянии другие объекты. Например, граната может рассылать оповещение о своем взрыве и радиусе поражения. Реализовать это можно с помощью пользовательских событий. 

Система событий похожа на почту. В ней участвуют две стороны — отправитель события и получатель (слушатель). На одно событие может подписываться сколько угодно слушателей

Для примера отправитель будет рассылать событие, что он с чем-то столкнулся и отправлять в нем свои координаты

Отправителю необходимо выполнить два действия:

- Создать событие. Событие имеет тип `Action<[Type1, Type2 и тд]>`. В угловых скобках указываются типы данных, которые мы хотим отправить в событии
- Отправить это событие, передав дополнительные данные, если необходимо

```csharp
using System;
using UnityEngine;

public class Sender : MonoBehaviour {
	// создаем глобальное событие CollisionEvent
	public static Action<Vector3> CollisionEvent = delegate {};

	void OnCollisionEnter(Collision collision) {
		// рассылаем событие CollisionEvent
		// и в нем передаем координаты отправителя
		CollisionEvent(transform.position);
	}
}
```

Слушатель также выполняет два действия:

- Создает функцию-обработчик события
- Подписывает ее на прослушивание события. Она вызовется, как только событие произойдет

```csharp
using UnityEngine;

public class Listener : MonoBehaviour {
	void Start () {
		// подписываемся на событие CollisionEvent
		// через класс, который распространяет событие
		Sender.CollisionEvent += React;
	}

	// создаем функцию-обработчик события
	void React(Vector3 collisionPosition) {
		print("Я знаю, что ты в беде! Иду на помощь!");
		print("Твои координаты: " + collisionPosition);
	}
}
```

### Логические операторы

Для операций над логическими значениями в C# есть `||` (ИЛИ), `&&` (И) и `!` (НЕ).

### || (ИЛИ)

Обычно оператор ИЛИ используется в `if`, чтобы проверить, выполняется ли хотя бы одно из условий, например:

```csharp
int hour = 9;

if (hour < 10 || hour > 18) {
  Console.WriteLine( "Офис до 10 или после 18 закрыт" );
}
```

Можно передать и больше условий:

```csharp
int hour = 12;
bool isWeekend = true;

if (hour < 10 || hour > 18 || isWeekend) {
  Console.WriteLine( "Офис до 10 или после 18 или в выходной закрыт" );
}
```

### && (И)

Обычно оператор И используется в `if`, чтобы проверить, что оба условия выполняются одновременно, например:

```csharp
int hour = 12;
int minute = 30;

if (hour == 12 && minute == 30) {
    Console.WriteLine("Время 12:30");
}
```

### ! (НЕ)

Оператор НЕ – самый простой. Он возвращает значение, противоположное переданному

Например:

```csharp
Console.WriteLine( !true ); // false
Console.WriteLine( !(5 > 3) ); // false
```