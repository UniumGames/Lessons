[We Need to Go Deeper](https://cdn-images-1.medium.com/max/1600/1*nTxiQWQkT1aE_7ONVgDscQ.gif)

### Conditions (Условия)

Довольно часто при создании скриптов возникает необходимость сделать так, чтобы выполнение или невыполнение каких-то действий зависело от выполнения или невыполнения некоторого условия. Для решения подобных задач используется условный оператор `if`

### Оператор if

```csharp
int a = 5;
int b = 2;
if (a > b) { // если a > b, то
	print(a); // выведем a
}
```

### Неверное условие, else

Чтобы сказать программе, что делать, если условие не выполняется, используйте блок `else`

```csharp
int a = 5;
int b = 67;
if (a > b) { // если a > b, то
	print(a); // выведем a
}
else { // иначе
	print(b); // выведем b
}
```

### Цепочка условий, else if

Бывает, что нужно проверить несколько вариантов условия. Для этого используется блок `else if`

```csharp
int age = 30;
// если возраст > 70
if (age > 70) {
	print("Ты уже старик");
}
// в остальных случаях, если возраст > 18
else if (age > 18) {
	print("Ты уже взрослый");
}
// во всех остальных случаях
else {
	print("Ты еще ребенок");
}
```

### Операторы сравнения

Для сравнения значений существуют следующие операторы:

- `>` больше
- `>=` больше или равно
- `==` равно
- `!=` не равно
- `<=` меньше или равно
- `<` меньше

### Обращение к компонентам

Наиболее простым и распространенным является случай, когда скрипту необходимо обратиться к другим компонентам, присоединенных к тому же `GameObject`. Компонент на самом деле является экземпляром класса, так что первым шагом будет получение ссылки на экземпляр компонента, с которым вы хотите работать. Это делается с помощью функции `GetComponent`. Обычно, объект компонента сохраняют в переменную, это делается в C# посредством следующего синтаксиса:

```csharp
void Start () {
    Rigidbody rb = GetComponent<Rigidbody>();
}
```

Как только у вас есть ссылка на экземпляр компонента, вы можете устанавливать значения его свойств, тех же, которые вы можете изменить в окне `Inspector`:

```csharp
void Start () {
    Rigidbody rb = GetComponent<Rigidbody>();
    
    // изменяем массу Rigidbody объекта
    rb.mass = 10f;
}
```

### Задание координат объекта

Положение объектов (точка) в игре задается с помощью типа `Vector3`. Создание новой точки с координатами (x, y, z) выглядит так: `new Vector3(x, y, z)`

Пример. Скрипт перемещает игровой объект в точку с координатами (0, 0, 0)

```csharp
void Start() {
	transform.position = new Vector3(0, 0, 0);
}
```

### Движение объекта

Чтобы перемещать объект используйте метод `Translate()`. Ему передается вектор, на который следует подвинуть объект

Объект двигается на один вправо каждую секунду

```csharp
void Update () {
	// вектор Vector3.right - это то же самое, что new Vector3(1, 0, 0)
	transform.Translate(Vector3.right * Time.deltaTime);
}
```

Для плавного перемещения или вращения объекта скорость нужно задавать с помощью следующей формулы:

 Видео: [проблемы анимации без учета времени](https://github.com/UniumGames/Lessons/blob/master/10/animdelta.mp4?raw=true) ([Полный урок](https://unity3d.com/ru/learn/tutorials/topics/scripting/delta-time))

![](http://unity3d.unium.ru/lessons/lesson12/images/vt.jpg)

- `Vt` — текущая скорость;
- `delta` — время обработки кадра (хранится в `Time.deltaTime`);
- `Vconst` — любое число больше нуля.

**Сокращения для некоторых векторов:**

| Вектор            | Направление                              |
| ----------------- | ---------------------------------------- |
| `Vector3.back`    | Назад по оси z. Координаты (0, 0, -1)    |
| `Vector3.down`    | Вниз по оси y. Координаты (0, -1, 0)     |
| `Vector3.forward` | Вперед по оси z. Координаты (0, 0, 1)    |
| `Vector3.left`    | Назад по оси x. Координаты (-1, 0, 0)    |
| `Vector3.one`     | Единичный вектор. Координаты (1, 1, 1)   |
| `Vector3.right`   | Вперед по оси x. Координаты (1, 0, 0)    |
| `Vector3.up`      | Вверх по оси y. Координаты (0, 1, 0)     |
| `Vector3.zero`    | Нулевой вектор (начало координат). Координаты (0, 0, 0) |

### Задание угла поворота объекта

Свойство `transform.eulerAngles` задает угол поворота объекта вокруг каждой из трех осей

```csharp
void Start() {
	// задаем угол поворота 45 градусов вокруг оси z.
	// поворот вокруг остальных осей устанавливаем нулевым
	transform.eulerAngles = new Vector3(0, 0, 45);
}
```

### Вращение объекта

Чтобы вращать объект используйте метод `Rotate()`. Ему передается вектор, на который следует повернуть объект

Вращаем объект вокруг оси `y` на 10 градусов в секунду

```csharp
void Update() {
	transform.Rotate(new Vector3(0, 10, 0) * Time.deltaTime);
}
```

### Задание масштаба

Свойство `transform.localScale` задает масштаб объекта по его осям

Сплющим объект по оси `x` в два раза (масштаб 0.5), а по осям `y` и `z` оставим изначальный размер (масштаб 1)

```csharp
void Start() {
	transform.localScale = new Vector3(0.5f, 1, 1);
}
```

### Задание цвета материала

Материал объекта хранится в отдельном компоненте: Renderer. Так что его необходимо предварительно найти и сохранить с помощью метода `GetComponent<>()`. Далее можно установить цвет свойству `material.color` найденного рендерера

Установим красный цвет для объекта

```csharp
void Start() {
	// находим и сохраняем компонент рендерер,
	// в котором хранится материал
	Renderer rend = GetComponent<Renderer>();

	// устанавливаем красный цвет для материала
	rend.material.color = Color.red;
}
```

Список цветов:

|                 | Цвет                                     |
| --------------- | ---------------------------------------- |
| `Color.black`   | Черный                                   |
| `Color.blue`    | Синий                                    |
| `Color.clear`   | Полностью прозрачный (для некоторых материалов отображается как черный) |
| `Color.cyan`    | Голубой                                  |
| `Color.gray`    | Серый                                    |
| `Color.green`   | Зеленый                                  |
| `Color.magenta` | Розовый                                  |
| `Color.red`     | Красный                                  |
| `Color.white`   | Белый                                    |
| `Color.yellow`  | Желтый                                   |

### Создание собственного цвета

Любой цвет можно сложить из трех базовых цветов: красного, зеленого и синего. Такой способ называется [моделью RGB](https://www.wikiwand.com/ru/RGB). В C# мы можем создать произвольный цвет так: `new Color(r, g, b)`, где r, g, b - числа от 0 до 1, задающие яркость красного, зеленого и синего каналов цвета соответственно

Для удобного выбора цвета можно использовать онлайн палитры, такие [как эта](http://doc.instantreality.org/tools/color_calculator/)

![](https://api.monosnap.com/rpc/file/download?id=g0B40C6RQJEj6KL6hdp2nbbOkfMiAh)

```csharp
void Start() {
	// находим и сохраняем компонент рендерер,
	// в котором хранится материал
	Renderer rend = GetComponent<Renderer>();

	// смешаем красный половинной яркости и синий масимальной яркости,
	// чтобы получить фиолетовый
	rend.material.color = new Color(0.5f, 0, 1);
}
```